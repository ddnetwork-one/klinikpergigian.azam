<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Klinik Pergigian Azam SP Saujana | Dental Care in Sungai Petani</title>
  <meta name="description" content="Professional dental care in Sungai Petani, Kedah. Scaling, braces, implants, and more. Book your appointment today!">
  
  <!-- Google Fonts: Inter (Sans-Serif) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1e3a5f',
            'primary-dark': '#112d4d',
            'primary-light': '#3c6e9c',
            secondary: '#d4a373',
            'secondary-light': '#e9c46a',
            surface: '#f8fafc',
            'surface-dark': '#f1f5f9',
            text: '#1e293b',
            'text-light': '#64748b',
          },
          fontFamily: {
            display: ['Inter', 'sans-serif'],
            body: ['Inter', 'sans-serif'],
          }
        }
      }
    }
  </script>
  
  <style>
    :root {
      --bg: #ffffff;
      --fg: #1e293b;
      --muted: #64748b;
      --primary: #1e3a5f;
      --primary-dark: #112d4d;
      --secondary: #d4a373;
      --card: #ffffff;
      --border: #e2e8f0;
    }
    
    * { box-sizing: border-box; }
    
    body {
      font-family: 'Inter', sans-serif;
      color: var(--fg);
      background: var(--bg);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }
    
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #f1f5f9; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #1e3a5f; }
    
    h1, h2, h3, h4 { 
      font-family: 'Inter', sans-serif;
      font-weight: 700;
    }

    .nav-text {
        transition: color 0.3s ease;
    }
    
    /* Nav Text Color Logic */
    .nav-solid .nav-text { color: var(--fg); }
    .nav-transparent .nav-text { color: white; }
    
    .nav-solid .nav-subtitle { color: var(--muted); }
    .nav-transparent .nav-subtitle { color: rgba(255, 255, 255, 0.6); }

    .parallax-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 120%;
      background-size: cover;
      background-position: center;
      will-change: transform;
      z-index: 0;
    }
    
    .hero-overlay {
      background: linear-gradient(135deg, rgba(30, 58, 95, 0.92) 0%, rgba(17, 45, 77, 0.88) 100%);
    }
    
    .deco-shape {
      position: absolute;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 50%;
      pointer-events: none;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #1e3a5f 0%, #112d4d 100%);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(30, 58, 95, 0.25);
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(30, 58, 95, 0.35);
    }
    
    .btn-secondary {
      background: linear-gradient(135deg, #d4a373 0%, #bc8a5f 100%);
      color: white;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(212, 163, 115, 0.25);
    }
    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(212, 163, 115, 0.35);
    }
    
    .btn-outline {
      border: 2px solid rgba(255, 255, 255, 0.8);
      color: white;
      background: transparent;
      transition: all 0.3s ease;
    }
    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: white;
      color: white;
    }
    
    .service-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      border: 1px solid #f1f5f9;
    }
    .service-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(30, 58, 95, 0.1);
      border-color: #e2e8f0;
    }
    
    .team-card {
      transition: transform 0.3s ease;
    }
    .team-card:hover {
      transform: translateY(-5px);
    }
    
    .gallery-item {
      transition: transform 0.5s ease;
    }
    .gallery-item:hover {
      transform: scale(1.03);
    }
    
    .counter-box {
      position: relative;
    }
    .counter-box::after {
      content: '';
      position: absolute;
      right: 0;
      top: 20%;
      height: 60%;
      width: 1px;
      background: rgba(255,255,255,0.15);
    }
    .counter-box:last-child::after { display: none; }
    
    .time-slot {
      transition: all 0.2s ease;
      border: 1px solid #e2e8f0;
      font-family: 'Inter', sans-serif;
      background: #fff;
      color: #1e293b;
    }
    .time-slot:hover:not(:disabled) {
      border-color: #1e3a5f;
      background: #f8fafc;
    }
    .time-slot.selected {
      background: #1e3a5f;
      color: white;
      border-color: #1e3a5f;
    }
    .time-slot.blocked {
      background: #fee2e2;
      color: #b91c1c;
      cursor: not-allowed;
      text-decoration: line-through;
      border-color: #fecaca;
      opacity: 0.8;
    }
    .time-slot.booked {
      background: #f1f5f9;
      color: #94a3b8;
      cursor: not-allowed;
      text-decoration: line-through;
      border-color: transparent;
    }
    
    .form-input {
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      font-family: 'Inter', sans-serif;
    }
    .form-input:focus {
      border-color: #1e3a5f;
      box-shadow: 0 0 0 4px rgba(30, 58, 95, 0.08);
      outline: none;
    }
    
    /* Mobile Menu - Full height slide from right */
    .mobile-menu-overlay {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.5);
        backdrop-filter: blur(4px);
        z-index: 40;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }
    .mobile-menu-overlay.open {
        opacity: 1;
        pointer-events: auto;
    }
    
    .mobile-menu {
      transform: translateX(100%);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: -10px 0 40px rgba(0,0,0,0.1);
      height: 100vh; /* full viewport height */
      overflow-y: auto; /* allow scroll inside */
      display: flex;
      flex-direction: column;
    }
    .mobile-menu.open { transform: translateX(0); }
    
    /* Page View Logic */
    .page-view {
        display: none;
    }
    .page-view.active {
        display: block;
    }
    #main-site-view {
        display: block;
    }
    #booking-page-view {
        display: none;
        min-height: 100vh;
        background-color: #f8fafc;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .floating { animation: float 3s ease-in-out infinite; }
    
    .spinner {
      border: 3px solid rgba(30, 58, 95, 0.2);
      border-top-color: #1e3a5f;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
    }
    
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }
    
    html {
      scroll-padding-top: 6rem;
    }
  </style>
</head>
<body class="antialiased">
  
  <!-- Mobile Menu Overlay (Backdrop) -->
  <div id="mobile-menu-overlay" class="mobile-menu-overlay md:hidden"></div>

  <!-- Navigation -->
  <nav id="navbar" class="nav-transparent fixed top-0 left-0 right-0 z-50 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <!-- Logo -->
        <a href="#home" onclick="showMainSite()" class="flex items-center space-x-3 cursor-pointer group">
          <div class="w-11 h-11 rounded-full overflow-hidden bg-white shadow-lg flex items-center justify-center border-2 border-white group-hover:scale-105 transition-transform">
             <img src="https://raw.githubusercontent.com/ddnetwork-ent/clinic-azam-dental/main/IMG_2260.JPG" alt="Azam Dental Logo" class="w-full h-full object-cover">
          </div>
          <div class="hidden sm:block">
            <span class="nav-text font-sans text-xl font-bold tracking-tight block leading-tight">Azam Dental</span>
            <span class="nav-subtitle text-xs block transition-colors font-body">Klinik Pergigian</span>
          </div>
        </a>
        
        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center space-x-8">
          <a href="#home" onclick="showMainSite()" class="nav-link nav-text font-medium hover:text-secondary transition-colors cursor-pointer relative group">
            Home
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-secondary transition-all group-hover:w-full"></span>
          </a>
          <a href="#about" onclick="showMainSite()" class="nav-link nav-text font-medium hover:text-secondary transition-colors cursor-pointer relative group">
            About
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-secondary transition-all group-hover:w-full"></span>
          </a>
          <a href="#services" onclick="showMainSite()" class="nav-link nav-text font-medium hover:text-secondary transition-colors cursor-pointer relative group">
            Services
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-secondary transition-all group-hover:w-full"></span>
          </a>
          <a href="#gallery" onclick="showMainSite()" class="nav-link nav-text font-medium hover:text-secondary transition-colors cursor-pointer relative group">
            Gallery
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-secondary transition-all group-hover:w-full"></span>
          </a>
          <a href="javascript:void(0)" onclick="showBookingPage()" class="nav-link nav-text font-medium hover:text-secondary transition-colors cursor-pointer relative group">
            Book
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-secondary transition-all group-hover:w-full"></span>
          </a>
          <a href="#contact" onclick="showMainSite()" class="nav-link nav-text font-medium hover:text-secondary transition-colors cursor-pointer relative group">
            Contact
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-secondary transition-all group-hover:w-full"></span>
          </a>
        </div>
        
        <!-- Mobile Menu Button -->
        <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg nav-text hover:bg-white/10 transition-colors relative z-50" aria-label="Toggle menu">
          <svg class="w-6 h-6 menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
          <svg class="w-6 h-6 close-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
    </div>
    
    <!-- IMPROVED: Full-height Mobile Menu with complete brand name -->
    <div id="mobile-menu" class="mobile-menu fixed inset-y-0 right-0 w-80 max-w-full bg-white md:hidden flex flex-col">
      <!-- Header with full brand text exactly like desktop but in mobile view -->
      <div class="p-6 border-b border-gray-100">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 rounded-full overflow-hidden bg-surface flex items-center justify-center border border-gray-200 flex-shrink-0">
            <img src="https://raw.githubusercontent.com/ddnetwork-ent/clinic-azam-dental/main/IMG_2260.JPG" alt="Azam Dental Logo" class="w-full h-full object-cover">
          </div>
          <div>
            <span class="font-sans text-lg text-primary font-bold block leading-tight">Azam Dental</span>
            <span class="text-xs text-text-light block">Klinik Pergigian</span>
          </div>
        </div>
      </div>
       
      <!-- Scrollable Content -->
      <div class="flex-grow overflow-y-auto custom-scrollbar p-6">
        <div class="space-y-1">
          <a href="#home" onclick="showMainSite(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-text hover:bg-surface font-medium transition-colors">
            <svg class="w-5 h-5 text-text-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
            Home
          </a>
          <a href="#about" onclick="showMainSite(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-text hover:bg-surface font-medium transition-colors">
            <svg class="w-5 h-5 text-text-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            About Us
          </a>
          <a href="#services" onclick="showMainSite(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-text hover:bg-surface font-medium transition-colors">
            <svg class="w-5 h-5 text-text-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/></svg>
            Services
          </a>
          <a href="#gallery" onclick="showMainSite(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-text hover:bg-surface font-medium transition-colors">
            <svg class="w-5 h-5 text-text-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
            Gallery
          </a>
          <a href="#team" onclick="showMainSite(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-text hover:bg-surface font-medium transition-colors">
            <svg class="w-5 h-5 text-text-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            Our Team
          </a>
          <a href="#faq" onclick="showMainSite(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-text hover:bg-surface font-medium transition-colors">
            <svg class="w-5 h-5 text-text-light" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            FAQ
          </a>
          <a href="javascript:void(0)" onclick="showBookingPage(); closeMobileMenu();" class="mobile-nav-link flex items-center gap-3 py-3 px-4 rounded-xl text-primary bg-primary/5 hover:bg-primary/10 font-semibold transition-colors mt-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
            Book Appointment
          </a>
        </div>
      </div>
      
      <!-- Footer CTA in Sidebar -->
      <div class="p-6 border-t border-gray-100 bg-surface/50">
          <a href="tel:0174802238" class="btn-primary w-full py-3 rounded-xl text-white font-semibold flex items-center justify-center">
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              Call 017-480 2238
          </a>
          <div class="flex justify-center space-x-4 mt-4">
             <a href="https://wa.me/60174802238" target="_blank" class="text-text-light hover:text-secondary transition-colors">
                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
             </a>
             <a href="https://www.facebook.com/azamdental" target="_blank" class="text-text-light hover:text-secondary transition-colors">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
             </a>
          </div>
      </div>
    </div>
  </nav>

  <!-- MAIN SITE VIEW -->
  <div id="main-site-view" class="page-view active">
      <!-- Hero Section -->
      <section id="home" class="relative min-h-screen flex items-center overflow-hidden">
        <div id="hero-parallax" class="parallax-bg" style="background-image: url('https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=1920&q=80');"></div>
        <div class="hero-overlay absolute inset-0"></div>
        <!-- content unchanged, omitted for brevity but kept exactly as in original -->
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 w-full">
          <div class="grid lg:grid-cols-12 gap-12 items-center">
            <div class="lg:col-span-7">
              <div data-aos="fade-down" data-aos-delay="100" class="inline-flex items-center space-x-2 bg-white/10 backdrop-blur-md rounded-full px-4 py-2 mb-8 border border-white/20">
                <div class="flex text-secondary-light">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                </div>
                <span class="text-white font-bold text-sm">5.0</span>
                <span class="text-white/70 text-sm">from 329+ reviews</span>
              </div>
              <h1 data-aos="fade-up" data-aos-delay="200" class="font-sans text-4xl sm:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6 tracking-tight">
                Klinik Pergigian<br>
                <span class="text-secondary-light">Azam SP Saujana</span>
              </h1>
              <p data-aos="fade-up" data-aos-delay="300" class="text-xl text-white/90 font-light mb-6">
                Your Trusted Dental Care in Sungai Petani
              </p>
              <p data-aos="fade-up" data-aos-delay="400" class="text-white/60 text-lg mb-10 max-w-lg leading-relaxed">
                Experience professional, caring, and modern dental services with our experienced team dedicated to your oral health and beautiful smile.
              </p>
              <div data-aos="fade-up" data-aos-delay="500" class="flex flex-col sm:flex-row gap-4">
                <a href="javascript:void(0)" onclick="showBookingPage()" class="btn-secondary inline-flex items-center justify-center px-8 py-4 rounded-xl font-semibold text-lg cursor-pointer">
                  Book Appointment
                  <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                  </svg>
                </a>
                <a href="tel:0174802238" class="btn-outline inline-flex items-center justify-center px-8 py-4 rounded-xl font-semibold text-lg">
                  <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                  </svg>
                  017-480 2238
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 floating hidden sm:block">
          <a href="#stats" class="flex flex-col items-center text-white/40 hover:text-secondary transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
            </svg>
          </a>
        </div>
      </section>
      
      <!-- Stats, About, Services, Gallery, Team, FAQ, Footer sections unchanged (kept identical) -->
      <section id="stats" class="bg-primary py-16 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center text-white">
            <div class="counter-box" data-aos="fade-up" data-aos-delay="100">
              <div class="text-4xl md:text-5xl font-sans mb-2 text-secondary-light">
                <span class="counter" data-target="15">0</span>+
              </div>
              <p class="text-white/60 uppercase text-xs tracking-widest font-medium">Years Experience</p>
            </div>
            <div class="counter-box" data-aos="fade-up" data-aos-delay="200">
              <div class="text-4xl md:text-5xl font-sans mb-2 text-secondary-light">
                <span class="counter" data-target="5000">0</span>+
              </div>
              <p class="text-white/60 uppercase text-xs tracking-widest font-medium">Happy Patients</p>
            </div>
            <div class="counter-box" data-aos="fade-up" data-aos-delay="300">
              <div class="text-4xl md:text-5xl font-sans mb-2 text-secondary-light">
                <span class="counter" data-target="12">0</span>
              </div>
              <p class="text-white/60 uppercase text-xs tracking-widest font-medium">Expert Dentists</p>
            </div>
            <div class="counter-box" data-aos="fade-up" data-aos-delay="400">
              <div class="text-4xl md:text-5xl font-sans mb-2 text-secondary-light">
                <span class="counter" data-target="25">0</span>+
              </div>
              <p class="text-white/60 uppercase text-xs tracking-widest font-medium">Dental Services</p>
            </div>
          </div>
        </div>
      </section>
      
      <section id="about" class="py-24 bg-white relative">
        <!-- about content unchanged -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid lg:grid-cols-2 gap-16 items-center">
            <div data-aos="fade-right">
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-4">
                        <img src="https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=600&h=800&fit=crop" class="rounded-2xl shadow-lg w-full h-64 object-cover" alt="Clinic Interior">
                        <img src="https://images.unsplash.com/photo-1606811841689-23dfddce3e95?w=600&h=400&fit=crop" class="rounded-2xl shadow-lg w-full h-48 object-cover" alt="Dental Equipment">
                    </div>
                    <div class="space-y-4 pt-8">
                        <img src="https://images.unsplash.com/photo-1598256989800-fe5f95da9787?w=600&h=400&fit=crop" class="rounded-2xl shadow-lg w-full h-48 object-cover" alt="Happy Patient">
                        <img src="https://images.unsplash.com/photo-1629909615184-74f495363b67?w=600&h=800&fit=crop" class="rounded-2xl shadow-lg w-full h-64 object-cover" alt="Smile">
                    </div>
                </div>
            </div>
            <div data-aos="fade-left">
              <span class="text-secondary font-semibold tracking-wide uppercase text-sm">About Us</span>
              <h2 class="font-sans text-3xl sm:text-4xl font-bold text-text mt-2 mb-6 tracking-tight">
                Professional Care You Can Trust
              </h2>
              <p class="text-text-light text-lg leading-relaxed mb-6">
                Welcome to <strong class="text-text">Klinik Pergigian Azam SP Saujana</strong>. We are committed to providing exceptional dental care in a comfortable, modern environment. Our experienced team uses the latest technology and techniques to ensure the best outcomes for every patient.
              </p>
              <p class="text-text-light leading-relaxed mb-8">
                Our clinic offers a full range of dental services from routine check-ups to advanced cosmetic and restorative procedures. We believe everyone deserves a healthy, confident smile.
              </p>
              <div class="space-y-4 mb-8">
                <div class="flex items-start space-x-4">
                  <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                  </div>
                  <div>
                    <h4 class="font-semibold text-text">Modern Equipment</h4>
                    <p class="text-text-light text-sm">Digital X-rays, intraoral cameras, and advanced sterilization.</p>
                  </div>
                </div>
                <div class="flex items-start space-x-4">
                  <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                  </div>
                  <div>
                    <h4 class="font-semibold text-text">Comfortable Environment</h4>
                    <p class="text-text-light text-sm">Relaxing atmosphere designed for patient comfort.</p>
                  </div>
                </div>
              </div>
              <a href="#team" class="inline-flex items-center text-primary font-semibold hover:text-primary-dark transition-colors">
                Meet Our Team
                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
              </a>
            </div>
          </div>
        </div>
      </section>
      
      <section id="services" class="py-24 bg-surface relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <span data-aos="fade-up" class="text-secondary font-semibold tracking-wide uppercase text-sm">What We Offer</span>
            <h2 data-aos="fade-up" data-aos-delay="100" class="font-sans text-3xl sm:text-4xl font-bold text-text mt-2 mb-4 tracking-tight">
              Comprehensive Dental Care
            </h2>
            <p data-aos="fade-up" data-aos-delay="200" class="text-text-light max-w-2xl mx-auto">
                From routine cleanings to complex restorations, we offer a wide range of services to meet your dental needs.
            </p>
          </div>
          <div id="services-grid" class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          </div>
        </div>
      </section>
    
      <section id="gallery" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span data-aos="fade-up" class="text-secondary font-semibold tracking-wide uppercase text-sm">Our Clinic</span>
                <h2 data-aos="fade-up" data-aos-delay="100" class="font-sans text-3xl sm:text-4xl font-bold text-text mt-2 mb-4 tracking-tight">
                  Modern Facilities
                </h2>
                <p data-aos="fade-up" data-aos-delay="200" class="text-text-light max-w-2xl mx-auto">
                    Take a look at our modern clinic environment designed for your comfort and safety.
                </p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4" data-aos="fade-up" data-aos-delay="300">
                <div class="col-span-2 row-span-2">
                    <div class="gallery-item w-full h-full rounded-2xl overflow-hidden shadow-lg cursor-pointer">
                        <img src="https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=800&h=800&fit=crop" class="w-full h-full object-cover" alt="Reception Area">
                    </div>
                </div>
                <div>
                    <div class="gallery-item w-full h-48 rounded-2xl overflow-hidden shadow-md cursor-pointer">
                        <img src="https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=400&h=300&fit=crop" class="w-full h-full object-cover" alt="Treatment Room 1">
                    </div>
                </div>
                <div>
                    <div class="gallery-item w-full h-48 rounded-2xl overflow-hidden shadow-md cursor-pointer">
                        <img src="https://images.unsplash.com/photo-1606811841689-23dfddce3e95?w=400&h=300&fit=crop" class="w-full h-full object-cover" alt="Equipment">
                    </div>
                </div>
                <div>
                    <div class="gallery-item w-full h-48 rounded-2xl overflow-hidden shadow-md cursor-pointer">
                        <img src="https://images.unsplash.com/photo-1598256989800-fe5f95da9787?w=400&h=300&fit=crop" class="w-full h-full object-cover" alt="Waiting Area">
                    </div>
                </div>
                <div>
                    <div class="gallery-item w-full h-48 rounded-2xl overflow-hidden shadow-md cursor-pointer">
                        <img src="https://images.unsplash.com/photo-1629909615184-74f495363b67?w=400&h=300&fit=crop" class="w-full h-full object-cover" alt="Consultation">
                    </div>
                </div>
            </div>
        </div>
      </section>
    
      <section id="team" class="py-24 bg-surface">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span data-aos="fade-up" class="text-secondary font-semibold tracking-wide uppercase text-sm">Our Team</span>
                <h2 data-aos="fade-up" data-aos-delay="100" class="font-sans text-3xl sm:text-4xl font-bold text-text mt-2 mb-4 tracking-tight">
                  Expert Dental Specialists
                </h2>
                <p data-aos="fade-up" data-aos-delay="200" class="text-text-light max-w-2xl mx-auto">
                    Our team of experienced dentists is dedicated to providing you with the highest quality care.
                </p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div data-aos="fade-up" data-aos-delay="100" class="team-card bg-white rounded-2xl p-6 text-center shadow-sm border border-gray-100">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden mb-4 border-4 border-surface">
                        <img src="https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=200&h=200&fit=crop&facepad=2" class="w-full h-full object-cover" alt="Dr. Ahmad Azam">
                    </div>
                    <h3 class="font-sans text-xl text-text font-bold">Dr. Ahmad Azam</h3>
                    <p class="text-secondary text-sm font-medium mb-3">Lead Dentist</p>
                    <p class="text-text-light text-sm">Specialist in Cosmetic Dentistry & Implants with over 15 years of experience.</p>
                </div>
                <div data-aos="fade-up" data-aos-delay="200" class="team-card bg-white rounded-2xl p-6 text-center shadow-sm border border-gray-100">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden mb-4 border-4 border-surface">
                        <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=200&h=200&fit=crop&facepad=2" class="w-full h-full object-cover" alt="Dr. Siti Nurhaliza">
                    </div>
                    <h3 class="font-sans text-xl text-text font-bold">Dr. Siti Nurhaliza</h3>
                    <p class="text-secondary text-sm font-medium mb-3">Orthodontist</p>
                    <p class="text-text-light text-sm">Expert in Braces, Aligners, and Corrective Dentistry for all ages.</p>
                </div>
                <div data-aos="fade-up" data-aos-delay="300" class="team-card bg-white rounded-2xl p-6 text-center shadow-sm border border-gray-100">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden mb-4 border-4 border-surface">
                        <img src="https://images.unsplash.com/photo-1537368910025-700350fe46c7?w=200&h=200&fit=crop&facepad=2" class="w-full h-full object-cover" alt="Dr. Lee Wei Ming">
                    </div>
                    <h3 class="font-sans text-xl text-text font-bold">Dr. Lee Wei Ming</h3>
                    <p class="text-secondary text-sm font-medium mb-3">Oral Surgeon</p>
                    <p class="text-text-light text-sm">Specializing in Wisdom Tooth Extraction and Complex Oral Surgeries.</p>
                </div>
            </div>
        </div>
      </section>

      <section id="faq" class="py-24 bg-surface">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span data-aos="fade-up" class="text-secondary font-semibold tracking-wide uppercase text-sm">Questions</span>
                <h2 data-aos="fade-up" data-aos-delay="100" class="font-sans text-3xl sm:text-4xl font-bold text-text mt-2 mb-4 tracking-tight">
                  Frequently Asked Questions
                </h2>
            </div>
            <div class="space-y-4" data-aos="fade-up" data-aos-delay="200">
                <div class="bg-white rounded-xl border border-gray-200 overflow-hidden">
                    <button class="faq-btn w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                        <span class="font-medium text-text">What are your operating hours?</span>
                        <svg class="w-5 h-5 text-text-light transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div class="faq-content hidden px-6 pb-4">
                        <p class="text-text-light text-sm">We are open <strong>Monday to Saturday from 9:00 AM to 6:00 PM</strong>. We are closed on Sundays and Public Holidays.</p>
                    </div>
                </div>
                <div class="bg-white rounded-xl border border-gray-200 overflow-hidden">
                    <button class="faq-btn w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                        <span class="font-medium text-text">Do I need to book an appointment?</span>
                        <svg class="w-5 h-5 text-text-light transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div class="faq-content hidden px-6 pb-4">
                        <p class="text-text-light text-sm">While walk-ins are welcome, we highly recommend booking an appointment to minimize waiting time. You can book easily via the form above or call us.</p>
                    </div>
                </div>
                <div class="bg-white rounded-xl border border-gray-200 overflow-hidden">
                    <button class="faq-btn w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors" onclick="toggleFaq(this)">
                        <span class="font-medium text-text">What payment methods do you accept?</span>
                        <svg class="w-5 h-5 text-text-light transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div class="faq-content hidden px-6 pb-4">
                        <p class="text-text-light text-sm">We accept Cash, Credit/Debit Cards (Visa, Mastercard), FPX Online Banking, and major E-wallets (Touch 'n Go, GrabPay, etc.).</p>
                    </div>
                </div>
            </div>
        </div>
      </section>

      <section id="contact" class="bg-primary-dark text-white pt-20 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12">
            <div class="lg:col-span-2">
              <div class="flex items-center space-x-3 mb-6">
                <div class="w-12 h-12 rounded-full overflow-hidden bg-white flex items-center justify-center shadow-lg">
                  <img src="https://raw.githubusercontent.com/ddnetwork-ent/clinic-azam-dental/main/IMG_2260.JPG" alt="Azam Dental Logo" class="w-full h-full object-cover">
                </div>
                <div>
                  <h3 class="font-sans text-xl font-bold">Klinik Pergigian</h3>
                  <p class="text-white/50 text-sm font-light">Azam SP Saujana</p>
                </div>
              </div>
              <p class="text-white/50 mb-8 max-w-md text-sm leading-relaxed">
                Your trusted dental care provider in Sungai Petani, Kedah. Professional, caring, and modern dental services for the whole family.
              </p>
              <div class="flex space-x-4">
                 <a href="https://wa.me/60174802238" target="_blank" class="w-10 h-10 rounded-full bg-white/10 hover:bg-secondary transition-colors flex items-center justify-center">
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                 </a>
                 <a href="https://www.facebook.com/azamdental" target="_blank" class="w-10 h-10 rounded-full bg-white/10 hover:bg-secondary transition-colors flex items-center justify-center">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                 </a>
              </div>
            </div>
            <div>
              <h4 class="font-sans text-lg mb-5 text-secondary-light font-bold">Quick Links</h4>
              <ul class="space-y-3 text-sm">
                <li><a href="#about" onclick="showMainSite()" class="text-white/50 hover:text-white transition-colors cursor-pointer">About Us</a></li>
                <li><a href="#services" onclick="showMainSite()" class="text-white/50 hover:text-white transition-colors cursor-pointer">Services</a></li>
                <li><a href="javascript:void(0)" onclick="showBookingPage()" class="text-white/50 hover:text-white transition-colors cursor-pointer">Book Appointment</a></li>
                <li><a href="#faq" onclick="showMainSite()" class="text-white/50 hover:text-white transition-colors cursor-pointer">FAQ</a></li>
              </ul>
            </div>
            <div>
              <h4 class="font-sans text-lg mb-5 text-secondary-light font-bold">Contact Info</h4>
              <ul class="space-y-4 text-sm">
                <li>
                  <a href="tel:0174802238" class="flex items-start space-x-3 text-white/50 hover:text-white transition-colors group">
                    <svg class="w-5 h-5 mt-0.5 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
                    <span>017-480 2238</span>
                  </a>
                </li>
                <li class="flex items-start space-x-3 text-white/50">
                  <svg class="w-5 h-5 mt-0.5 text-secondary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg>
                  <span>21, Jalan PKS (A), Pusat Komersial Saujana,<br>08000 Sungai Petani, Kedah</span>
                </li>
              </ul>
            </div>
          </div>
          <div class="mb-12 rounded-2xl overflow-hidden shadow-lg h-64 w-full">
            <iframe class="embed-map-frame" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=600&height=400&hl=en&q=Klinik%20Pergigian%20Azam%20SP%20Saujana&t=p&z=16&ie=UTF8&iwloc=B&output=embed" style="width:100%; height:100%;"></iframe>
          </div>
          <div class="pt-8 border-t border-white/10 text-center text-white/40 text-xs">
            &copy; 2025 Klinik Pergigian Azam SP Saujana. All rights reserved.
          </div>
        </div>
      </section>
  </div>

  <!-- BOOKING PAGE VIEW -->
  <div id="booking-page-view" class="page-view">
    <section class="relative min-h-screen flex items-center justify-center py-24 px-4">
        <div class="max-w-2xl mx-auto w-full">
            <button onclick="showMainSite()" class="absolute top-24 left-4 md:left-10 text-text-light hover:text-text flex items-center gap-2 font-medium transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg>
                Back to Site
            </button>
            <div class="text-center mb-10">
                <span data-aos="fade-up" class="text-secondary font-semibold tracking-wide uppercase text-sm">Appointment</span>
                <h2 data-aos="fade-up" data-aos-delay="100" class="font-sans text-3xl sm:text-4xl font-bold text-text mt-2 mb-4 tracking-tight">
                Schedule Your Visit
                </h2>
                <p data-aos="fade-up" data-aos-delay="200" class="text-text-light text-lg max-w-xl mx-auto">
                Select your preferred date and time. We'll confirm your appointment shortly.
                </p>
            </div>
            <div data-aos="fade-up" data-aos-delay="300" class="bg-white rounded-3xl p-6 sm:p-10 border border-gray-100 shadow-sm">
                
                <div id="form-loading" class="flex flex-col items-center justify-center py-12">
                <div class="spinner mb-4"></div>
                <p class="text-text-light">Checking availability...</p>
                </div>
                
                <form id="booking-form" class="hidden space-y-6">
                <div id="welcome-message" class="hidden bg-secondary/10 border border-secondary/20 rounded-xl p-4 mb-4">
                    <p class="text-primary font-medium flex items-center text-sm">
                    <svg class="w-5 h-5 mr-2 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span id="welcome-text" class="text-text">Welcome back!</span>
                    </p>
                </div>
                
                <div class="grid sm:grid-cols-2 gap-6">
                    <div>
                    <label for="phone" class="block text-sm font-medium text-text mb-2">Phone Number <span class="text-red-400">*</span></label>
                    <input type="tel" id="phone" name="phone" placeholder="01X-XXX XXXX" class="form-input w-full px-4 py-3 rounded-xl border border-gray-200 bg-white text-text placeholder-text-light" required>
                    <p id="phone-error" class="text-red-500 text-xs mt-1 hidden">Please enter a valid phone number</p>
                    </div>
                    <div>
                    <label for="name" class="block text-sm font-medium text-text mb-2">Full Name <span class="text-red-400">*</span></label>
                    <input type="text" id="name" name="name" placeholder="Your name" class="form-input w-full px-4 py-3 rounded-xl border border-gray-200 bg-white text-text placeholder-text-light" required>
                    </div>
                </div>
                
                <div>
                    <label for="service" class="block text-sm font-medium text-text mb-2">Select Service <span class="text-red-400">*</span></label>
                    <select id="service" name="service" class="form-input w-full px-4 py-3 rounded-xl border border-gray-200 bg-white text-text" required>
                    <option value="">Choose a service...</option>
                    </select>
                </div>
                
                <div class="grid sm:grid-cols-2 gap-6">
                    <div>
                    <label for="date" class="block text-sm font-medium text-text mb-2">Preferred Date <span class="text-red-400">*</span></label>
                    <input type="date" id="date" name="date" class="form-input w-full px-4 py-3 rounded-xl border border-gray-200 bg-white text-text" required>
                    <p id="date-error" class="text-amber-600 text-xs mt-1 hidden">Bookings require at least 1 day advance notice.</p>
                    </div>
                    <div>
                    <label for="notes" class="block text-sm font-medium text-text mb-2">Notes (Optional)</label>
                    <input type="text" id="notes" name="notes" placeholder="Any special requests?" class="form-input w-full px-4 py-3 rounded-xl border border-gray-200 bg-white text-text placeholder-text-light">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-text mb-3">Select Time <span class="text-red-400">*</span></label>
                    <div id="time-slots" class="grid grid-cols-3 sm:grid-cols-4 gap-2 max-h-48 overflow-y-auto p-1 custom-scrollbar">
                    <p class="col-span-full text-text-light text-center py-4 text-sm">Please select a date first</p>
                    </div>
                    <input type="hidden" id="time" name="time" required>
                </div>
                
                <button type="submit" id="submit-btn" class="btn-primary w-full py-4 rounded-xl text-white font-semibold text-lg flex items-center justify-center">
                    <span id="submit-text">Confirm Booking</span>
                    <div id="submit-spinner" class="spinner ml-2 hidden"></div>
                </button>
                </form>
                
                <div id="success-message" class="hidden text-center py-8">
                <div class="w-16 h-16 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                </div>
                <h3 class="font-sans text-xl font-bold text-text mb-2">Appointment Request Sent!</h3>
                <p class="text-text-light mb-6 text-sm">We will call you shortly to confirm your appointment.</p>
                <button id="book-another-btn" class="text-primary font-semibold hover:text-primary-dark transition-colors text-sm underline underline-offset-4">Book another appointment</button>
                </div>
                
                <div id="error-message" class="hidden text-center py-8">
                <div class="w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </div>
                <h3 class="font-sans text-xl font-bold text-text mb-2">Booking Failed</h3>
                <p id="error-text" class="text-text-light mb-6 text-sm">Something went wrong. Please try again or call us.</p>
                <button id="try-again-btn" class="text-primary font-semibold hover:text-primary-dark transition-colors text-sm underline underline-offset-4">Try again</button>
                </div>
            </div>
        </div>
    </section>
  </div>

  <!-- Firebase & Scripts (unchanged) -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { 
      getFirestore, 
      collection, 
      getDocs, 
      getDoc,
      doc,
      query, 
      where, 
      addDoc,
      setDoc,
      serverTimestamp,
      orderBy,
      limit
    } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    
    const firebaseConfig = {
      apiKey: "AIzaSyBkH-3VaTJHVHSCROb2rIf5H03yZa3GYOo",
      authDomain: "ddcloudnetwork.firebaseapp.com",
      projectId: "ddcloudnetwork",
      storageBucket: "ddcloudnetwork.firebasestorage.app",
      messagingSenderId: "692579973408",
      appId: "1:692579973408:web:027492492ddf57dbf3bf45",
      measurementId: "G-58N4W6Y5CN"
    };
    
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    
    window.dbCollections = {
      services: collection(db, 'klinikazam_services'),
      patients: collection(db, 'klinikazam_patients'),
      appointments: collection(db, 'klinikazam_appointments'),
      slots: collection(db, 'klinikazam_slots')
    };
    
    window.firebaseModules = {
      getDocs, getDoc, doc, query, where, addDoc, setDoc, serverTimestamp, orderBy, limit, db
    };
    
    window.firebaseReady = true;
    window.dispatchEvent(new CustomEvent('firebaseReady'));
  </script>
  
  <script>
    const defaultServices = [
      { id: 1, name: 'Scaling & Polishing', description: 'Professional cleaning to remove plaque and stains.', price: 80 },
      { id: 2, name: 'Tooth Extraction', description: 'Safe removal of damaged or wisdom teeth.', price: 100 },
      { id: 3, name: 'Filling / Restoration', description: 'Tooth-colored fillings for cavities.', price: 80 },
      { id: 4, name: 'Braces / Orthodontics', description: 'Straighten teeth for a perfect smile.', price: 0 },
      { id: 5, name: 'Dental Implants', description: 'Permanent solution for missing teeth.', price: 0 },
      { id: 6, name: 'Crown & Bridge', description: 'Restore damaged teeth with custom crowns.', price: 0 },
      { id: 7, name: 'Dentures', description: 'Comfortable removable tooth replacements.', price: 0 },
      { id: 8, name: 'Veneers', description: 'Thin shells for a beautiful smile makeover.', price: 0 },
      { id: 9, name: 'Teeth Whitening', description: 'Professional whitening treatments.', price: 500 },
      { id: 10, name: 'Root Canal', description: 'Save infected teeth with expert care.', price: 300 },
      { id: 11, name: 'General Check-up', description: 'Comprehensive examination and cleaning.', price: 50 },
      { id: 12, name: 'Cosmetic Dentistry', description: 'Enhance your smile aesthetics.', price: 0 }
    ];
    
    let services = [], bookedSlots = [], blockedSlots = [], selectedTime = null, currentPatientId = null;
    let navbar, mobileMenuBtn, mobileMenu, heroParallax, servicesGrid, bookingForm, formLoading;
    let phoneInput, nameInput, serviceSelect, dateInput, timeSlotsContainer, timeInput, notesInput;
    let submitBtn, submitText, submitSpinner, welcomeMessage, welcomeText;
    let successMessage, errorMessage, errorText, bookAnotherBtn, tryAgainBtn, phoneError, dateError;
    let mobileMenuOverlay;
    
    // Page View Control
    function showMainSite() {
        document.getElementById('main-site-view').style.display = 'block';
        document.getElementById('booking-page-view').style.display = 'none';
        document.body.style.overflow = 'auto';
        window.scrollTo(0, 0);
        handleNavbarScroll();
    }

    function showBookingPage() {
        document.getElementById('main-site-view').style.display = 'none';
        document.getElementById('booking-page-view').style.display = 'block';
        document.body.style.overflow = 'auto'; 
        window.scrollTo(0, 0);
        navbar.classList.add('nav-solid', 'bg-white', 'shadow-md', 'backdrop-blur-md');
        navbar.classList.remove('nav-transparent');
    }
    
    window.showMainSite = showMainSite;
    window.showBookingPage = showBookingPage;
    
    function formatPhoneNumber(value) {
      const numbers = value.replace(/\D/g, '');
      if (numbers.length <= 3) return numbers;
      if (numbers.length <= 6) return `${numbers.slice(0, 3)}-${numbers.slice(3)}`;
      return `${numbers.slice(0, 3)}-${numbers.slice(3, 6)} ${numbers.slice(6, 10)}`;
    }
    
    function isValidMalaysianPhone(phone) {
      const numbers = phone.replace(/\D/g, '');
      return numbers.length >= 9 && numbers.length <= 11 && numbers.startsWith('01');
    }
    
    function generateTimeSlots() {
      const slots = [];
      for (let hour = 9; hour < 18; hour++) {
        slots.push(`${hour.toString().padStart(2, '0')}:00`);
        slots.push(`${hour.toString().padStart(2, '0')}:30`);
      }
      return slots;
    }
    
    function formatTime(time24) {
      const [hours, minutes] = time24.split(':');
      const hour = parseInt(hours);
      const ampm = hour >= 12 ? 'PM' : 'AM';
      const hour12 = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
      return `${hour12}:${minutes} ${ampm}`;
    }
    
    function convertToAmPm(time24) {
        if(!time24) return "";
        const [hours, minutes] = time24.split(':');
        const hour = parseInt(hours);
        const ampm = hour >= 12 ? 'PM' : 'AM';
        const hour12 = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
        return `${hour12}:${minutes} ${ampm}`;
    }
    
    async function generateSmartId(collectionName, prefix) {
        try {
            const { getDocs, query, orderBy, limit } = window.firebaseModules;
            const q = query(window.dbCollections[collectionName], orderBy('id', 'desc'), limit(1));
            const snapshot = await getDocs(q);
            
            let nextNum = 1;
            if (!snapshot.empty) {
                const lastDoc = snapshot.docs[0];
                const lastId = lastDoc.id; 
                const parts = lastId.split('-');
                const lastNum = parseInt(parts[parts.length - 1]);
                if (!isNaN(lastNum)) {
                    nextNum = lastNum + 1;
                }
            }
            const numStr = String(nextNum).padStart(3, '0');
            return `${prefix}-${numStr}`;
        } catch(e) {
            return `${prefix}-${Date.now().toString().slice(-4)}`;
        }
    }

    function getDayOfWeek(dateStr) { return new Date(dateStr).getDay(); }
    
    // Navigation
    function initNavigation() {
      mobileMenuBtn.addEventListener('click', toggleMobileMenu);
      mobileMenuOverlay.addEventListener('click', closeMobileMenu);
      
      window.addEventListener('scroll', handleNavbarScroll);
      handleNavbarScroll();
    }
    
    function toggleMobileMenu() {
        const isOpen = mobileMenu.classList.contains('open');
        if (isOpen) {
            closeMobileMenu();
        } else {
            mobileMenu.classList.add('open');
            mobileMenuOverlay.classList.add('open');
            document.body.style.overflow = 'hidden';
        }
    }
    
    function closeMobileMenu() { 
        mobileMenu.classList.remove('open'); 
        mobileMenuOverlay.classList.remove('open'); 
        document.body.style.overflow = ''; 
    }
    window.closeMobileMenu = closeMobileMenu;
    
    function handleNavbarScroll() {
      if(document.getElementById('booking-page-view').style.display === 'block') return;
      if (window.scrollY > 50) {
        navbar.classList.add('nav-solid', 'bg-white', 'shadow-md', 'backdrop-blur-md');
        navbar.classList.remove('nav-transparent');
      } else {
        navbar.classList.remove('nav-solid', 'bg-white', 'shadow-md', 'backdrop-blur-md');
        navbar.classList.add('nav-transparent');
      }
    }
    
    function initParallax() {
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      window.addEventListener('scroll', () => {
        if(heroParallax) {
            const scrollY = window.scrollY;
            heroParallax.style.transform = `translateY(${scrollY * 0.3}px)`;
        }
      }, { passive: true });
    }
    
    function initCounters() {
      const counters = document.querySelectorAll('.counter');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const counter = entry.target;
            const target = +counter.getAttribute('data-target');
            const duration = 2000;
            const step = target / (duration / 16);
            let current = 0;
            const updateCounter = () => {
              current += step;
              if (current < target) {
                counter.textContent = Math.ceil(current);
                requestAnimationFrame(updateCounter);
              } else {
                counter.textContent = target;
              }
            };
            updateCounter();
            observer.unobserve(counter);
          }
        });
      }, { threshold: 0.5 });
      counters.forEach(counter => observer.observe(counter));
    }
    
    async function loadServices() {
      try {
        if (!window.firebaseReady) await new Promise(resolve => window.addEventListener('firebaseReady', resolve, { once: true }));
        const { getDocs, query } = window.firebaseModules;
        const snapshot = await getDocs(query(window.dbCollections.services));
        services = snapshot.empty ? defaultServices : snapshot.docs.map(d => ({ id: d.id, ...d.data() }));
      } catch (error) { 
        console.error("Error loading services:", error);
        services = defaultServices; 
      }
      renderServices();
      populateServiceDropdown();
    }
    
    function renderServices() {
      if(!servicesGrid) return;
      servicesGrid.innerHTML = services.map((service, index) => `
        <div data-aos="fade-up" data-aos-delay="${index * 50}" class="service-card bg-white rounded-2xl p-6 group">
          <div class="w-12 h-12 rounded-xl bg-primary/5 flex items-center justify-center mb-5 group-hover:bg-primary transition-colors duration-300">
             <svg class="w-6 h-6 text-primary group-hover:text-white transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
            </svg>
          </div>
          <h3 class="font-sans text-lg text-text mb-2 font-bold">${service.name}</h3>
          <p class="text-text-light text-sm leading-relaxed mb-3">${service.description || 'Professional care.'}</p>
          ${service.price ? `<p class="text-secondary font-bold text-sm">From RM ${service.price}</p>` : '<p class="text-primary text-xs font-medium">Consult for price</p>'}
        </div>
      `).join('');
      AOS.refresh();
    }
    
    function populateServiceDropdown() {
      if(!serviceSelect) return;
      serviceSelect.innerHTML = '<option value="">Choose a service...</option>';
      services.forEach(service => {
        const option = document.createElement('option');
        option.value = service.id;
        option.textContent = service.name;
        serviceSelect.appendChild(option);
      });
    }
    
    function initBookingForm() {
      phoneInput.addEventListener('input', (e) => {
        e.target.value = formatPhoneNumber(e.target.value);
        const numbers = e.target.value.replace(/\D/g, '');
        if (numbers.length >= 10) checkExistingPatient(numbers);
        else hideWelcomeMessage();
      });
      
      const today = new Date();
      const tomorrow = new Date(today);
      tomorrow.setDate(tomorrow.getDate() + 1);
      const minDateStr = tomorrow.toISOString().split('T')[0];
      dateInput.min = minDateStr;
      
      dateInput.addEventListener('change', handleDateChange);
      bookingForm.addEventListener('submit', handleFormSubmit);
      bookAnotherBtn.addEventListener('click', resetForm);
      tryAgainBtn.addEventListener('click', resetForm);
    }
    
    async function checkExistingPatient(phone) {
      try {
        if (!window.firebaseReady) return;
        const { getDocs, query, where } = window.firebaseModules;
        const q = query(window.dbCollections.patients, where('phone', '==', phone));
        const snapshot = await getDocs(q);
        if (!snapshot.empty) {
          const patientDoc = snapshot.docs[0];
          currentPatientId = patientDoc.id;
          nameInput.value = patientDoc.data().name || '';
          showWelcomeMessage(patientDoc.data().name);
        } else { currentPatientId = null; hideWelcomeMessage(); }
      } catch (error) { console.error(error); }
    }
    
    function showWelcomeMessage(name) { welcomeText.textContent = `Welcome back, ${name}!`; welcomeMessage.classList.remove('hidden'); }
    function hideWelcomeMessage() { welcomeMessage.classList.add('hidden'); }
    
    async function handleDateChange(e) {
      const selectedDate = e.target.value;
      selectedTime = null; timeInput.value = '';
      
      const today = new Date();
      today.setHours(0,0,0,0);
      const selected = new Date(selectedDate);
      
      if (selected <= today) {
         timeSlotsContainer.innerHTML = '<p class="col-span-full text-red-500 text-center py-4 text-sm font-medium">Bookings must be made at least 1 day in advance.</p>';
         return;
      }

      if (getDayOfWeek(selectedDate) === 0) {
        timeSlotsContainer.innerHTML = '<p class="col-span-full text-red-500 text-center py-4 text-sm font-medium">Closed on Sundays</p>'; return;
      }
      
      await loadBookedSlots(selectedDate);
      renderTimeSlots(generateTimeSlots(), selectedDate);
    }
    
    async function loadBookedSlots(date) {
      bookedSlots = []; blockedSlots = [];
      try {
        if (!window.firebaseReady) return;
        const { getDocs, query, where } = window.firebaseModules;
        
        const q = query(window.dbCollections.appointments, 
            where('date', '==', date), 
            where('status', 'in', ['Pending', 'Confirmed']));
        const snapshot = await getDocs(q);
        
        snapshot.forEach(doc => {
            const timeStr = doc.data().time;
            if(timeStr) bookedSlots.push(timeStr); 
        });

        const sq = query(window.dbCollections.slots, where('date', '==', date), where('type', '==', 'blocked'));
        const sSnapshot = await getDocs(sq);
        sSnapshot.forEach(doc => {
            const timeStr = doc.data().time;
            if(timeStr) blockedSlots.push(timeStr);
        });

      } catch (error) { console.error(error); }
    }
    
    function renderTimeSlots(slots, date) {
      if (!slots.length) { timeSlotsContainer.innerHTML = '<p class="col-span-full text-text-light text-center py-4 text-sm">No slots available</p>'; return; }
      
      timeSlotsContainer.innerHTML = slots.map(slot => {
        const slotAmPm = convertToAmPm(slot);
        const isBooked = bookedSlots.includes(slotAmPm);
        const isBlocked = blockedSlots.includes(slotAmPm);
        const isSelected = selectedTime === slotAmPm;
        
        let statusClass = '';
        let disabled = false;
        let label = '';

        if (isBooked) {
            statusClass = 'booked';
            disabled = true;
            label = '(Booked)';
        } else if (isBlocked) {
            statusClass = 'blocked';
            disabled = true;
            label = '(Not Available)';
        }

        return `
          <button type="button" 
            class="time-slot px-3 py-2 text-xs font-medium rounded-lg ${isSelected ? 'selected' : ''} ${statusClass}" 
            data-time="${slotAmPm}" 
            ${disabled ? 'disabled' : ''}>
            ${formatTime(slot)} ${label ? `<span class="block text-[0.6rem] opacity-80">${label}</span>` : ''}
          </button>`;
      }).join('');
      
      timeSlotsContainer.querySelectorAll('.time-slot:not(:disabled)').forEach(btn => {
        btn.addEventListener('click', () => selectTimeSlot(btn.dataset.time));
      });
    }
    
    function selectTimeSlot(time) {
      selectedTime = time; timeInput.value = time;
      timeSlotsContainer.querySelectorAll('.time-slot').forEach(btn => {
        btn.classList.remove('selected');
        if (btn.dataset.time === time) btn.classList.add('selected');
      });
    }
    
    async function handleFormSubmit(e) {
      e.preventDefault();
      
      const selectedDate = new Date(dateInput.value);
      const today = new Date();
      today.setHours(0,0,0,0);
      
      if (selectedDate <= today) {
          showError("Bookings must be made at least 1 day in advance.");
          return;
      }
      
      if (!isValidMalaysianPhone(phoneInput.value)) { phoneError.classList.remove('hidden'); phoneInput.focus(); return; }
      phoneError.classList.add('hidden');
      if (!selectedTime) { alert('Please select a time slot'); return; }
      
      submitBtn.disabled = true; submitText.textContent = 'Booking...'; submitSpinner.classList.remove('hidden');
      
      try {
        if (!window.firebaseReady) throw new Error('Firebase not ready');
        const { addDoc, setDoc, doc, serverTimestamp } = window.firebaseModules;
        const phoneNumbers = phoneInput.value.replace(/\D/g, '');
        let patientId = currentPatientId;
        
        if (!patientId) {
            patientId = await generateSmartId('patients', 'PAT');
            await setDoc(doc(window.dbCollections.patients, patientId), {
                id: patientId,
                name: nameInput.value.trim(),
                phone: phoneNumbers,
                ic: '-'
            });
        }

        const serviceId = serviceSelect.value;
        const serviceData = services.find(s => s.id == serviceId);
        
        const newApptId = await generateSmartId('appointments', 'APT');

        const appointmentData = {
            id: newApptId,
            patient_id: patientId,
            date: dateInput.value,
            time: selectedTime,
            items: [{
                id: serviceId,
                qty: 1,
                price: serviceData?.price || 0,
                name: serviceData?.name || 'Service'
            }],
            status: 'Pending',
            payment_method: null,
            invoice_id: null
        };

        await setDoc(doc(window.dbCollections.appointments, newApptId), appointmentData);

        showSuccess();
      } catch (error) { 
          showError('Unable to complete booking. Please try again.'); 
          console.error(error); 
      }
      finally { submitBtn.disabled = false; submitText.textContent = 'Confirm Booking'; submitSpinner.classList.add('hidden'); }
    }
    
    function showSuccess() { bookingForm.classList.add('hidden'); successMessage.classList.remove('hidden'); errorMessage.classList.add('hidden'); }
    function showError(msg) { bookingForm.classList.add('hidden'); successMessage.classList.add('hidden'); errorMessage.classList.remove('hidden'); errorText.textContent = msg; }
    function resetForm() {
      bookingForm.reset(); selectedTime = null; currentPatientId = null; timeInput.value = '';
      bookingForm.classList.remove('hidden'); successMessage.classList.add('hidden'); errorMessage.classList.add('hidden'); hideWelcomeMessage();
      renderTimeSlots([], null);
    }
    
    window.toggleFaq = function(element) {
        const content = element.nextElementSibling;
        const icon = element.querySelector('.faq-icon');
        
        document.querySelectorAll('.faq-content').forEach(c => {
            if (c !== content) {
                c.classList.add('hidden');
                c.previousElementSibling.querySelector('.faq-icon').classList.remove('rotate-180');
            }
        });
        
        content.classList.toggle('hidden');
        icon.classList.toggle('rotate-180');
    }

    document.addEventListener('DOMContentLoaded', () => {
      navbar = document.getElementById('navbar');
      mobileMenuBtn = document.getElementById('mobile-menu-btn');
      mobileMenu = document.getElementById('mobile-menu');
      mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
      heroParallax = document.getElementById('hero-parallax');
      servicesGrid = document.getElementById('services-grid');
      bookingForm = document.getElementById('booking-form');
      formLoading = document.getElementById('form-loading');
      phoneInput = document.getElementById('phone');
      nameInput = document.getElementById('name');
      serviceSelect = document.getElementById('service');
      dateInput = document.getElementById('date');
      timeSlotsContainer = document.getElementById('time-slots');
      timeInput = document.getElementById('time');
      notesInput = document.getElementById('notes');
      submitBtn = document.getElementById('submit-btn');
      submitText = document.getElementById('submit-text');
      submitSpinner = document.getElementById('submit-spinner');
      welcomeMessage = document.getElementById('welcome-message');
      welcomeText = document.getElementById('welcome-text');
      successMessage = document.getElementById('success-message');
      errorMessage = document.getElementById('error-message');
      errorText = document.getElementById('error-text');
      bookAnotherBtn = document.getElementById('book-another-btn');
      tryAgainBtn = document.getElementById('try-again-btn');
      phoneError = document.getElementById('phone-error');
      dateError = document.getElementById('date-error');
      
      AOS.init({ duration: 800, easing: 'ease-out-cubic', once: true, offset: 50 });
      
      initNavigation();
      initParallax();
      initCounters();
      loadServices();
      initBookingForm();
      
      setTimeout(() => { if(formLoading) formLoading.classList.add('hidden'); if(bookingForm) bookingForm.classList.remove('hidden'); }, 500);
    });
  </script>
</body>
</html>
